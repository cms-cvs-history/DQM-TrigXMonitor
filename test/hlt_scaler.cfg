# CFG file used to develop hlt scalers
# wittich 11/07
process DQM ={
	source = PoolSource{
	        untracked vstring fileNames={
		}
                untracked bool debugVebosity = true
                untracked uint32 debugVerbosity = 1 
        }

untracked PSet maxEvents = {
	untracked int32 input = 1000
#	untracked int32 input = 10
#	untracked int32 input = -1
}

include "DQM/L1TMonitor/data/L1TGT_unpack.cff"
include "DQM/L1TMonitor/data/L1TGT.cfi"
#replace l1tgt.verbose = true
path assist = { l1GtUnpack & l1tgt }


include "DQM/TrigXMonitor/data/HLTScalers.cfi"
replace hlts.verbose = true
replace hlts.l1GtData = "l1GtUnpack::DQM"

#         service = PathTimerService {}
#         module hltPathTimer = PathTimerInserter {}
# endpath p = { hltPathTimer & hlts }
 endpath p = { hlts }



#include "DQM/L1TMonitor/data/L1TMonitor.cff"
#include "DQM/L1TMonitor/data/L1TGCT.cfi"
#include "DQM/L1TMonitor/data/L1TRCT.cfi"
#include "DQM/L1TMonitor/data/debug.cff"

#include "DQM/TrigXMonitor/data/in_qcd.cff"
#include "DQM/TrigXMonitor/data/in2.cff"
#include "DQM/TrigXMonitor/data/in.cff"

##### UGLY HACK
#replace PoolSource.fileNames = {
##'/store/mc/2007/10/5/HLT-H160_WW_2l-1191586518/0000/6E1F482A-D88A-DC11-BBE4-001617DBD287.root'
#'file:/tmp/wittich/6E1F482A-D88A-DC11-BBE4-001617DBD287.root'
#}
#include "DQM/TrigXMonitor/test/gren_29844.cff"
include "DQM/TrigXMonitor/test/gren_30142.cff"



#######################################################################
                          ##  DQM SERVICES
#######################################################################

    service = ModuleWebRegistry{ }
    service = DaqMonitorROOTBackEnd{}
    service = LockService{untracked vstring labels = {"source"}}
    service = DQMShipMonitoring{
// event-period for shipping monitoring to collector (default: 25)
    untracked uint32 period = 5
     }
    service = MonitorDaemon {
       untracked   bool AutoInstantiate    = false
       untracked  int32 reconnect_delay    = 5
       untracked string DestinationAddress = "lxplus005.cern.ch"
       untracked  int32 SendPort           = 9090
       untracked  int32 UpdateDelay        = 1000
       untracked string NameAsSource       = "GlobalDQM"
    }

##################### DQM ENVIRONMENT AND FILE OUTPUT
include "DQMServices/Components/test/dqm_onlineEnv.cfi"
      replace dqmSaver.fileName = "HLTScalers"
      replace dqmSaver.dirName = "."
      replace dqmEnv.subSystemFolder="L1T"
      # optionally change fileSaving  conditions
      // replace dqmSaver.prescaleLS =   -1
      // replace dqmSaver.prescaleTime = -1 # in minutes
      // replace dqmSaver.prescaleEvt =  -1
      replace dqmSaver.saveAtRunEnd = true ### CHECK ME
      replace dqmSaver.saveAtJobEnd = true
      # will add switch to select histograms to be saved soon

path dqmWork = { dqmEnv & dqmSaver }

#################### END DQM ENVIRONMENT


#include "FWCore/MessageService/data/MessageLogger.cfi"
    // uncomment / comment messages with DEBUG mode to run in DEBUG mode
service = MessageLogger {

        untracked vstring destinations =  {"dqm_test"}
        untracked PSet testGt_Unpacker = { 
          untracked string threshold = "DEBUG"                  // DEBUG mode 
          untracked PSet DEBUG = { untracked int32 limit = -1}  // DEBUG mode, all messages  
//        untracked PSet DEBUG = { untracked int32 limit = 10}  // DEBUG mode, max 10 messages  
          untracked PSet INFO = { untracked int32 limit = -1}    
        }
#        untracked vstring debugModules = { "l1GtUnpack"}  // DEBUG mode      
   }
#  Trigger Results
     untracked PSet options = {
        untracked bool wantSummary = true  # default is false
     }



} 
